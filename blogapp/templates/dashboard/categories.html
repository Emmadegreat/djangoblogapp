{% extends '../base.html' %}
{% load static %}
{% block title %}<title>Categories - Gisblog</title>{% endblock title %}

{% block content %}
    <section class="sm:px-8 px-6 py-[30px] sm:py-[60px]">
        {% if messages %}

                {% for message in messages %}
                    <div {% if message.tags %} class="alert alert-{{ message.tags}}" {% endif %}>
                        {{ message }}
                    </div>

                {% endfor %}


            {% endif %}

        <h1 class="text-black text-[32px]">Dashboard/categories</h1>
        <div class="flex-col md:flex-row flex">
            <div class="card basis-[25%] flex flex-col w-full border-[1px] border-green-700 p-4 rounded-md">
                {% include "./leftside.html" %}
            </div>
            <div class="card basis-[70%] mx-4 w-full flex flex-col">
                <div class="flex justify-between mb-4 px-0">
                    <h3 class="text-[16px] font-medium">All Categories</h3>
                    <button class="">
                        <a class="text-white bg-green-700 rounded-md py-2 px-6" aria-current="page" href="{% url 'add_category' %}">
                            Add Category
                        </a>
                    </button>
                </div>
                <div class="overflow-x-auto border-[1px] border-green-700 rounded-md">
                    <table class="min-w-full ">
                        <thead class="bg-gray-100">
                            <tr>
                                <th class="px-6 py-3 text-left text-sm font-medium text-gray-700 border border-gray-300">Id</th>
                                <th class="px-6 py-3 text-left text-sm font-medium text-gray-700 border border-gray-300">Category Name</th>
                                <th class="px-6 py-3 text-left text-sm font-medium text-gray-700 border border-gray-300">Created At</th>
                                <th class="px-6 py-3 text-left text-sm font-medium text-gray-700 border border-gray-300">Updated At</th>
                                <th class="px-6 py-3 text-left text-sm font-medium text-gray-700 border border-gray-300">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for category in categories %}
                            <tr class="bg-white hover:bg-gray-50">
                                <td class="px-3 py-2 text-sm text-gray-700 border border-gray-300">{{ forloop.counter }}</td>
                                <td class="px-3 py-2 text-sm text-gray-700 border border-gray-300">{{ category.category_name }}</td>
                                <td class="px-3 py-2 text-sm text-gray-700 border border-gray-300">{{ category.created_at }}</td>
                                <td class="px-3 py-2 text-sm text-gray-700 border border-gray-300">{{ category.created_at }}</td>
                                <td class="flex justify-center py-2 text-[12px] text-gray-700 border border-gray-300">
                                    <a href="{% url 'edit_category' category.id %}" class="mx-2 px-4 py-2 text-white bg-orange-400
                                        rounded hover:bg-orange-600 focus:outline-none">
                                        Edit
                                    </a>
                                    <a href="{% url 'delete_category' category.id %}" class="px-4 py-2 text-white bg-red-600
                                        rounded hover:bg-red-600 focus:outline-none" onclick="return confirmDelete();"
                                        >Delete
                                    </a>
                                </td>

                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

            </div>

        </div>

    </section>

{% endblock content %}